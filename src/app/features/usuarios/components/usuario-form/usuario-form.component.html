<div class="container mt-4">

  <h2>{{ editingId ? 'Editar Usuario' : 'Nuevo Usuario' }}</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-3">

    <div>
      <label>Nombre:</label>
      <input type="text" formControlName="nombre" class="form-control">
    </div>

    <div class="mt-2">
      <label>Apellido:</label>
      <input type="text" formControlName="apellido" class="form-control">
    </div>

    <div class="mt-2">
      <label>Email:</label>
      <input type="email" formControlName="email" class="form-control">
      <small *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="text-danger">
        Email inv√°lido
      </small>
    </div>

    <div class="mt-2">
      <label>Rol:</label>
      <select formControlName="rol" class="form-select">
        <option value="admin">Admin</option>
        <option value="user">Usuario</option>
      </select>
    </div>

    <div class="mt-2">
      <label>Password (opcional):</label>
      <input type="password" formControlName="password" class="form-control">
    </div>

    <button class="btn btn-primary mt-3" [disabled]="form.invalid">
      {{ editingId ? 'Guardar Cambios' : 'Crear Usuario' }}
    </button>

    <button type="button" class="btn btn-secondary mt-3 ms-2" (click)="router.navigate(['/usuarios'])">
      Cancelar
    </button>

  </form>

</div>


